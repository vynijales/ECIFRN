<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title> Cadastro </title>
    <link rel="stylesheet" href="style.css">
    <!-- Fontawesome CDN Link -->
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css"/>
   </head>
<body>
  <div class="wrapper">
 
 
	  <div class="logo">
	    <img src="images/logo.png">
	  </div>
 
      <div class="input-box">
        <input id="create_mail" type="text" required>
        <label>Endereço de e-mail</label>
      </div>
      <div class="input-box">
        <input id="create_pw" type="password" required>
        <label>Criar senha</label>
      </div>
      <div class="input-box">
        <input id="confirm_pw" type="password" required disabled>
        <label>Confirmar senha</label>
        <i class="fas fa-eye-slash show"></i>
      </div>
      <div class="alert">
        <i class="fas fa-exclamation-circle error"></i>
        <span class="text">Insira no mínimo 8 caracteres</span>
      </div>
      <div class="input-box button">
        <input id="button" type="button" value="Cadastrar" disabled>
      </div>
  </div>
  
  <script>
  const createPw = document.querySelector("#create_pw"),
   confirmPw = document.querySelector("#confirm_pw"),
   pwShow = document.querySelector(".show"),
   alertIcon = document.querySelector(".error"),
   alertText= document.querySelector(".text"),
   submitBtn = document.querySelector("#button");

   pwShow.addEventListener("click", ()=>{
     if((createPw.type === "password") && (confirmPw.type === "password")){
       createPw.type = "text";
       confirmPw.type = "text";
       pwShow.classList.replace("fa-eye-slash","fa-eye");
     }else {
       createPw.type = "password";
       confirmPw.type = "password";
       pwShow.classList.replace("fa-eye","fa-eye-slash");
     }
   });

   createPw.addEventListener("input", ()=>{
     let val = createPw.value.trim()
     if(val.length >= 8){
       confirmPw.removeAttribute("disabled");
       submitBtn.removeAttribute("disabled");
       submitBtn.classList.add("active");
     }else {
       confirmPw.setAttribute("disabled", true);
       submitBtn.setAttribute("disabled", true);
       submitBtn.classList.remove("active");
       confirmPw.value = "";
       alertText.style.color = "#a6a6a6";
       alertText.innerText = "Insira no mínimo 8 caracteres";
       alertIcon.style.display = "none";
     }
   });

  submitBtn.addEventListener("click", ()=>{
   if(createPw.value === confirmPw.value){
     alertText.innerText = "Senhas coincidem!";
     alertIcon.style.display = "none";
     alertText.style.color = "#097248";
   }else {
     alertText.innerText = "As senhas informadas não coincidem!";
     alertIcon.style.display = "block";
     alertText.style.color = "#ff5a5f";
   }
  });
  </script>

</body>
</html>